<main>
	<div>
		<h2>
			Balance: ${{balance}}
		</h2>		
	</div>
	<button id="newTransactionButton" type="button" class="btn btn-lg grn-shadow" (click)="open(content, null, true)">+ Add Transaction</button>
	<table id="transactionList" class="table">
  		<thead>
    		<tr>
      			<th scope="col" style="width: 40%">Name</th>
    	  		<th scope="col" style="width: 25%">Amount</th>
				<th scope="col" style="width: 20%">Date</th>
				<th scope="col" style="width: 10%"></th>
			</tr>
		</thead>
		<tbody>
			<tr class="allTransactions" *ngFor="let transaction of listTransactions" (click)="open(content, transaction)">
				<th scope="row">{{transaction.name}}</th>
				<td>${{transaction.amount}}</td>
				<td>{{transaction.date.getMonth() + 1}}/{{transaction.date.getDate()}}/{{transaction.date.getFullYear()}}</td>
				<td><button class="btn-danger">X</button></td>
			</tr>
		</tbody>  
	</table>
</main>

<ng-template #content let-modal>
	<form>
		<div class="modal-header">
			<h5 class="modal-title" id="modal-basic-title">
				<input type="text" [(ngModel)]="modalContent.name" [ngModelOptions]="{standalone: true}" placeholder="Transaction Name"/>
			</h5>
			<button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click'); cancelTransaction()">
				<span aria-hidden="true">&times;</span>
			</button>
		</div>
		<div class="modal-body">
			<div class="container">
				<div class="form-group row">
					<label for="trans-amount" class="col-sm-3 col-form-label">Amount</label>
					<div class="col-sm-3">
						<input id="trans-amount" type="number" [(ngModel)]="modalContent.amount" [ngModelOptions]="{standalone: true}" placeholder=0.00 step=0.01 />
					</div>
				</div>
				<div class="form-group row">
					<label for="trans-date" class="col-sm-3 col-form-label">Date</label>
					<div class="col-sm-3">
						<input id="trans-date" type="date" [(ngModel)]="modalContent.date" [ngModelOptions]="{standalone: true}"/>
					</div>
				</div>
				<div class="form-group row">
					<label for="trans-note" class="col-sm-3 col-form-label">Note</label>
					<div class="col-sm-3">
						<input id="trans-note" type="text" [(ngModel)]="modalContent.note" [ngModelOptions]="{standalone: true}"/>
					</div>
				</div>

				<div class="form-group">
					<label for="trans-categories" class="col-sm-3 col-form-label">Categories</label>
					<select multiple class="form-control">
						<option *ngFor="let category of categories">{{category}}</option>
					</select>
				</div>
				
			</div>
		</div>
		<div class="modal-footer">
			<button type="button" class="btn grn-shadow" (click)="modal.close('Close clicked'); cancelTransaction()">Close</button>
			<button type="button" class="btn grn-shadow" (click)="saveTransaction(); modal.close('Save clicked')">Save</button>
		</div>
	</form>
</ng-template>